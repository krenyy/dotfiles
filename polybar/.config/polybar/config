[colors]
include-file = ~/dotfiles/polybar/.config/polybar/colors

[settings]
pseudo-transparency = true

[bar/main]

width = 100%
height = 18
offset-y = 0
offset-x = 0

border-top-size = 5
border-bottom-size = 0
border-right-size = 5
border-left-size = 5

bottom = false
wm-restack = bspwm
override-redirect = false

font-0 = Fira Code:size=11;1
font-1 = Font Awesome 5 Pro:style=Solid:size=11;1

background = #00000000
foreground = ${colors.foreground}
border-color = #00000000

fixed-center = true
padding-left = 1
padding-right = 1
module-margin = 2

modules-left = cputemp cpuclock cpu memory win10vm network
modules-center = bspwm
modules-right = keyboard weather date time

tray-position = none
tray-detached = true

locale = cs_CZ.UTF8





[module/win10vm]
type = custom/script
interval = 2

exec = ~/.config/polybar/modules/win10vm.sh



[module/cpuclock]
type = custom/script
interval = 2

exec = ~/.config/polybar/modules/cpuclock.sh



[module/keyboard]
type = internal/xkeyboard

blacklist-0 = num lock
blacklist-1 = scroll lock

format = <label-indicator> <label-layout>

indicator-icon-0 = caps lock;;

label-indicator-on = "%icon% "



[module/weather]
type = custom/script
interval = 300

exec = ~/.config/polybar/modules/forecast.py

click-left = alacritty -e ~/scripts/wttrin.sh &


[module/bspwm]
type = internal/bspwm

pin-workspaces = true
enable-click = false
enable-scroll = true

label-focused-foreground = ${colors.foreground}
label-occupied-foreground = ${colors.background}
label-empty-foreground = ${colors.miscellaneous}
label-urgent-foreground = ${colors.highlight}

label-separator = " "


[module/time]
type = internal/date

interval = 1

date =  %H:%M



[module/date]
type = internal/date

date =  %A %e. %B %Y
label = %date%



[module/cputemp]
type = internal/temperature

interval = 2

hwmon-path = /sys/class/hwmon/hwmon2/temp1_input

base-temperature = 30
warn-temperature = 70

units = true

format = <ramp> <label>
format-warn = <ramp> <label-warn>

label = %temperature-c%
label-warn = %temperature-c%
label-warn-foreground = #ffa500

ramp-0 = 
ramp-1 = 
ramp-2 = 
ramp-3 = 
ramp-4 = 



[module/cpu]
type = internal/cpu
interval = 2

format =  <label>



[module/memory]
type = custom/script
interval = 2

exec = free --mebi | grep Mem | awk '{printf " %0.2f GiB", ($3+$5)/1024}'

;type = internal/memory
;format =  <label>
;label = %gb_used%



[module/network]
type = internal/network
interval = 3

interface = br0

label-connected =  
label-disconnected =  Disconnected

